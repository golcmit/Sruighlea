graph TD
    A[Sruighlea アプリケーション再構築] --> B[1.0 基盤・データモデル構築]
    A --> C[2.0 UI再設計 閲覧]
    A --> D[3.0 編集機能実装]
    A --> E[4.0 仕上げ・高度な機能]
    
    B --> B1[1.1 プロジェクト設定]
    B1 --> B1a[1.1.1 DBパス変更]
    B1 --> B1b[1.1.2 接続テスト]
    
    B --> B2[1.2 データモデル定義 .h]
    B2 --> B2a[1.2.1 Character.h]
    B2 --> B2b[1.2.2 OccupationRecord.h]
    B2 --> B2c[1.2.3 AcademicRecord.h]
    B2 --> B2d[1.2.4 Relationship.h]
    B2 --> B2e[1.2.5 GroupMembership.h]
    B2 --> B2f[1.2.6 AddressHistory.h]
    
    B --> B3[1.3 サービス層IF定義]
    B3 --> B3a[1.3.1 既存メソッド削除]
    B3 --> B3b[1.3.2 新IF定義 閲覧]
    B3 --> B3c[1.3.3 新IF定義 編集]
    
    B --> B4[1.4 初期実装 一覧表示]
    B4 --> B4a[1.4.1 サービス実装 一覧]
    B4 --> B4b[1.4.2 UI修正 一覧]
    B4 --> B4c[1.4.3 テスト 一覧]
    
    C --> C1[2.1 MainWindow UI再設計]
    C1 --> C1a[2.1.1 詳細ビュー削除]
    C1 --> C1b[2.1.2 タブウィジェット配置]
    C1 --> C1c[2.1.3 基本情報タブ設計]
    C1 --> C1d[2.1.4 経歴タブ設計]
    C1 --> C1e[2.1.5 学業タブ設計]
    C1 --> C1f[2.1.6 人間関係タブ設計]
    C1 --> C1g[2.1.7 他タブ設計]
    
    C --> C2[2.2 サービス実装 閲覧系]
    C2 --> C2a[2.2.1 実装: Details]
    C2 --> C2b[2.2.2 実装: Occupation]
    C2 --> C2c[2.2.3 実装: Academic]
    C2 --> C2d[2.2.4 実装: Relationship]
    C2 --> C2e[2.2.5 実装: Group]
    C2 --> C2f[2.2.6 実装: Address]
    
    C --> C3[2.3 UIデータバインド]
    C3 --> C3a[2.3.1 クリックイベント修正]
    C3 --> C3b[2.3.2 基本情報タブ表示]
    C3 --> C3c[2.3.3 経歴タブ表示]
    C3 --> C3d[2.3.4 他タブ表示]
    
    C --> C4[2.4 テスト 全タブ閲覧]
    
    D --> D1[3.1 基本情報 編集]
    D1 --> D1a[3.1.1 AddCharacterDialog修正]
    D1 --> D1b[3.1.2 サービス実装 add/update]
    D1 --> D1c[3.1.3 UIボタン接続]
    
    D --> D2[3.2 経歴 追加]
    D2 --> D2a[3.2.1 新規: AddOccupationDialog]
    D2 --> D2b[3.2.2 サービス実装 addOccupation]
    D2 --> D2c[3.2.3 UIボタン接続]
    
    D --> D3[3.3 人間関係 追加]
    D3 --> D3a[3.3.1 新規: AddRelationshipDialog]
    D3 --> D3b[3.3.2 サービス実装 addRelationship]
    D3 --> D3c[3.3.3 UIボタン接続]
    
    D --> D4[3.4 他タブ追加機能]
    D --> D5[3.5 テスト 追加機能]
    
    E --> E1[4.1 検索機能 再実装]
    E1 --> E1a[4.1.1 サービス実装 search]
    E1 --> E1b[4.1.2 UIスロット修正]
    
    E --> E2[4.2 JSONフィールド対応]
    E2 --> E2a[4.2.1 サービス実装 JSONパース]
    E2 --> E2b[4.2.2 UI表示 JSON]
    E2 --> E2c[4.2.3 ダイアログ編集 JSON]
    E2 --> E2d[4.2.4 サービス実装 JSON保存]
    
    E --> E3[4.3 エラーハンドリング]
    E3 --> E3a[4.3.1 Logger実装 サービス層]
    E3 --> E3b[4.3.2 QMessageBox実装 UI層]
    
    E --> E4[4.4 最終テスト]
    E4 --> E4a[4.4.1 総合テスト]